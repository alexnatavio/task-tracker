{% extends "base.html" %}

{% block title %}
Project List - Tracker
{% endblock title %}

{% block nav %}
<li><a href="{% url 'login' %}"> Login </a></li>
<li><a href="{% url 'logout' %}"> Logout </a></li>

{{user.username}} is logged in
{% endblock nav %}

{% block content %}
<main>
    <div>
        <h1> My Projects </h1>
        <div>
            <p><a href="{% url 'create_project' %}"> Create New Project </a></p>
        </div>
        {% if project_list %}
        <table>
            <thead>
                <tr>
                    <th> Name </th>
                    <th> Number of tasks </th>
                </tr>
            </thead>

            <tbody>
                {% for projects in project_list %}
                <tr>
                    <td><a href="{% url 'show_project' projects.id %}"> {{ projects.name }} </a></td>
                    <td> {{ projects.tasks.all|length }} </td>
                </tr>
                {% endfor %}
                {% else %}
                <p> You are not assigned to any projects </p>
                {% endif %}
            </tbody>
        </table>
    </div>
</main>
{% endblock content %}
